import{o as t,c as r,a as e,W as R,f as u,t as _,z as i,i as v,h as x,p as Y,X as N,u as j,s as q,e as I,w as k,F as $,v as S,B as F,x as C,g as H,Y as O}from"./index.1b20f181.js";import{_ as T}from"./chevron-right.bfca2140.js";const W={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},E=e("g",{fill:"currentColor"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),P=[E];function X(d,n){return t(),r("svg",W,P)}var G={name:"bi-plus-circle",render:X};const J={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 26 26"},K=e("path",{fill:"currentColor",d:"M8.813 0A1 1 0 0 0 8 1v1H4.406C3.606 2 3 2.606 3 3.406V24.5c0 .9.606 1.5 1.406 1.5H21.5c.8 0 1.406-.606 1.406-1.406V3.406c.1-.8-.512-1.406-1.312-1.406H18V1a1 1 0 0 0-1-1H9a1 1 0 0 0-.094 0a1 1 0 0 0-.094 0zM10 2h6v2h-6V2zM5 4h3v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h3v20H5V4zm2 5v4h4V9H7zm1 1h2v2H8v-2zm5 0v2h6v-2h-6zm-6 5v4h4v-4H7zm6 1v2h6v-2h-6z"},null,-1),Q=[K];function U(d,n){return t(),r("svg",J,Q)}var Z={name:"wpf-survey",render:U};const ee={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},te=e("path",{fill:"currentColor",d:"m27 25.586l-2-2V21h-2v3.414L25.586 27L27 25.586z"},null,-1),ne=e("path",{fill:"currentColor",d:"M24 31a7 7 0 1 1 7-7a7.008 7.008 0 0 1-7 7zm0-12a5 5 0 1 0 5 5a5.005 5.005 0 0 0-5-5zm-8 9A12.013 12.013 0 0 1 4 16H2a14.016 14.016 0 0 0 14 14zM12 8H7.078A11.984 11.984 0 0 1 28 16h2A13.978 13.978 0 0 0 6 6.234V2H4v8h8z"},null,-1),oe=[te,ne];function re(d,n){return t(),r("svg",ee,oe)}var se={name:"carbon-update-now",render:re};const ie={key:0,class:"pt-4 mt-4 flex justify-center items-center text-xs text-dark-400 border-t border-dashed"},ce={class:"ml-2"},ae=x(" Last updated by "),de=x(),le={__name:"IomSurveyMetadata",props:["survey"],setup(d){const n=R("since");return(M,L)=>{const g=se;return d.survey&&d.survey.uby&&d.survey.uon?(t(),r("div",ie,[u(g,{class:"flex-none w-4.5 h-4.5 text-primary-400"}),e("p",ce,[ae,e("b",null,_(d.survey.uby),1),de,e("i",null,_(i(n).format(new Date(d.survey.uon))),1)])])):v("",!0)}}},_e={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},he=e("path",{fill:"currentColor",d:"M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6H10z"},null,-1),ue=[he];function me(d,n){return t(),r("svg",_e,ue)}var pe={name:"carbon-arrow-up-right",render:me};const ve={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},fe=e("path",{fill:"currentColor",d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},null,-1),ye=[fe];function xe(d,n){return t(),r("svg",ve,ye)}var ge={name:"fa-solid-chevron-down",render:xe};const be={class:"iom-impl-par pb-4 overflow-hidden"},we=["data-index"],ke={class:"shadow relative block border transition-all bg-primary-50 <md:border-primary-200 md:bg-light-200 rounded-lg overflow-hidden"},$e={class:"!leading-5 w-full px-2 py-3 border-b bg-gradient-to-r from-primary-400/40 via-primary-300/30 to-primary-400/40 text-primary-900 text-center cursor-default"},Se=["onClick"],Ce={class:"loc-mark inline-block underline underline-primary-300"},ze={class:"md:flex"},Me={class:"px-2 transition-all relative flex items-center md:w-1/3 !md:h-inherit <md:overflow-hidden <md:border-b"},Le={class:"space-y-3 mt-3 pb-2 mx-auto transform -translate-x-1"},Be=["onClick"],He={class:"br-selbox__stacked--item--inputs cursor-pointer flex items-center"},Ve={class:"pl-2 truncate group-hover:text-dark-500"},Ae={class:"w-full divide-y-1 border-l bg-white border-dark-200 h-full children:h-full children:relative children:transition-all children:flex-col children:px-3 children:py-5 children:items-start children:w-full children:text-black"},De=["onClick"],Re={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-success-100 border border-success-200 text-success-600 rounded-full"},Ye=e("div",{class:"group-hover:text-success-700"},"Completed",-1),Ne=[Ye],je={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},qe=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),Ie=[qe],Fe={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-primary-100 border border-primary-200 text-primary-600 rounded-full"},Oe={class:"group-hover:text-primary-700"},Te={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},We=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),Ee=[We],Pe={class:"flex"},Xe={class:"underline-primary-600/30 underline underline-2px mr-2"},Ge={class:"flex text-dark-500 !text-xs mt-1 transition-colors"},Je={key:4,class:"mt-8"},Ke={class:"space-y-3 children:rounded children:flex children:items-center children:text-xs children:py-2 children:px-3 children:bg-dark-100 children:shadow children:transition-all children:duration-200"},Qe=["onClick"],Ue=x("Survey from "),Ze={class:"ml-1 font-medium"},et=["onClick"],tt=x(),nt=e("span",{class:"ml-2"},"Add new questionnaire",-1),it={__name:"Overview",setup(d){const n=Y(),{width:M}=N(),L=j(),g={};q(()=>{document.querySelectorAll(".iom-impl-par aside").forEach((c,a)=>{g[a]=c.offsetHeight,c.style.height=0})});const V=c=>{if(M.value>=768)return;const a=document.querySelector(`.iom-impl-par .iom-part:nth-child(${c+1}) aside`),h=a.offsetHeight,l=.1;if(!h||h==1)return H.to(a,{duration:l,height:g[c]});H.to(a,{duration:l,height:0})},A=c=>{const a={year:"numeric",month:"long",day:"numeric"};return c=new Date(c),c.toLocaleDateString(void 0,a)},z=({id:c},{key:a},h={})=>{const{empty:l}=h,p=c,b=n.selectedSurveyLocation[p],f={loc:b};if(n.isObserver&&!n.getSurveyStatus(p,a)){n.observerNotif403.open=!0;return}if(!l)if(h.benefID)f.id=h.benefID;else{const w=n.surveys.find(y=>y.survey==a&&y.ip==p&&y.location==b);w&&(f.id=w.id)}L.push({name:`${a}-survey`,params:{ip:p},query:f})};return(c,a)=>{const h=ge,l=I("br-transition"),p=O,b=pe,f=le,w=Z,y=T,D=G;return t(),r("section",be,[u(l,{type:"group",name:"dissolve",duration:.6,tag:"ul"},{default:k(()=>[(t(!0),r($,null,S(i(n).ips,(s,B)=>(t(),r("li",{key:s.name,class:"iom-part w-full py-1 lg:py-3 px-4 mt-4","data-index":B},[e("section",ke,[e("h4",$e,[x(_(s.name)+" facility in ",1),u(l,{name:"verticalBlur"},{default:k(()=>[i(n).selectedSurveyLocation[s.id]?(t(),r("span",{key:i(n).selectedSurveyLocation[s.id],class:"text-primary-600 group <md:text-primary-600 <md:cursor-pointer <md:active:text-primary-700 <md:hover:text-primary-500",onClick:o=>V(B)},[e("span",Ce,_(i(n).selectedSurveyLocation[s.id]),1),u(h,{class:"relative transform transition-transform inline-block h-3.5 md:hidden <md:bottom-0.2 <md:-left-0.5 <md:group-active:scale-90"})],8,Se)):v("",!0)]),_:2},1024)]),e("div",ze,[e("aside",Me,[e("ul",Le,[(t(!0),r($,null,S(s.locations,o=>(t(),r("li",{key:o,class:"flex justify-start items-center text-dark-700 font-medium group",onClick:m=>i(n).selectedSurveyLocation[s.id]=o},[e("div",He,[u(p,{name:o,id:o,checked:i(n).selectedSurveyLocation[s.id]==o,class:"flex-shrink-0 !bg-white"},null,8,["name","id","checked"]),e("div",Ve,_(o),1)])],8,Be))),128))])]),e("section",Ae,[(t(!0),r($,null,S(i(n).surveyTypes,o=>(t(),r("div",{key:o.key,class:F(o.key!=="benef"?"cursor-pointer transition-colors duration-300 hover:bg-primary-50/70 group":""),onClick:m=>o.key=="benef"?()=>{}:z(s,o)},[o.key!=="benef"?(t(),C(b,{key:0,class:"text-dark-500/60 absolute m-3 top-0 right-0"})):v("",!0),o.key!=="benef"?(t(),C(l,{key:1,name:"horizontalBlur"},{default:k(()=>[i(n).getSurveyStatus(s.id,o.key)=="ok"?(t(),r("div",Re,Ne)):(t(),r("div",je,Ie))]),_:2},1024)):(t(),C(l,{key:2,name:"horizontalBlur"},{default:k(()=>[i(n).getBenefSurveys(s.id).length>=1?(t(),r("div",Fe,[e("div",Oe,"Completed "+_(i(n).getBenefSurveys(s.id).length)+" of 3",1)])):(t(),r("div",Te,Ee))]),_:2},1024)),e("div",Pe,[e("span",Xe,_(o.title),1)]),e("span",Ge,_(o.desc),1),o.key!=="benef"?(t(),C(f,{key:3,survey:i(n).getSurvey(s.id,o.key)},null,8,["survey"])):v("",!0),o.key=="benef"?(t(),r("section",Je,[e("div",null,[e("ul",Ke,[(t(!0),r($,null,S(i(n).getBenefSurveys(s.id),m=>(t(),r("li",{key:m.id,class:"hover:bg-light-200 hover:cursor-pointer active:shadow-sm relative",onClick:ot=>z(s,o,{benefID:m.id})},[u(w,{class:"w-4 h-4 mr-3"}),Ue,e("span",Ze,_(A(m.date||m.inter_date)),1),u(y,{class:"absolute right-2 text-slate-400"})],8,Qe))),128)),i(n).isObserver?v("",!0):(t(),r("li",{key:0,onClick:m=>z(s,o,{empty:!0}),class:"!bg-white border border-dashed !shadow-none font-medium border-dark-300 justify-center hover:cursor-pointer hover:border-solid hover:border-primary-200 hover:text-primary-600 !hover:bg-primary-50"},[u(D),tt,nt],8,et))])])])):v("",!0)],10,De))),128))])])])],8,we))),128))]),_:1})])}}};export{it as default};
