import{o as t,c as r,a as e,W as Y,f as h,t as _,z as i,i as v,h as f,p as D,X as N,u as j,e as q,w,F as k,v as $,B as F,x as S,g as V,Y as O}from"./index.00f059f3.js";import{_ as T}from"./chevron-right.6da5c582.js";const W={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},P=e("g",{fill:"currentColor"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),E=[P];function I(c,n){return t(),r("svg",W,E)}var X={name:"bi-plus-circle",render:I};const G={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 26 26"},J=e("path",{fill:"currentColor",d:"M8.813 0A1 1 0 0 0 8 1v1H4.406C3.606 2 3 2.606 3 3.406V24.5c0 .9.606 1.5 1.406 1.5H21.5c.8 0 1.406-.606 1.406-1.406V3.406c.1-.8-.512-1.406-1.312-1.406H18V1a1 1 0 0 0-1-1H9a1 1 0 0 0-.094 0a1 1 0 0 0-.094 0zM10 2h6v2h-6V2zM5 4h3v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h3v20H5V4zm2 5v4h4V9H7zm1 1h2v2H8v-2zm5 0v2h6v-2h-6zm-6 5v4h4v-4H7zm6 1v2h6v-2h-6z"},null,-1),K=[J];function Q(c,n){return t(),r("svg",G,K)}var U={name:"wpf-survey",render:Q};const Z={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ee=e("path",{fill:"currentColor",d:"m27 25.586l-2-2V21h-2v3.414L25.586 27L27 25.586z"},null,-1),te=e("path",{fill:"currentColor",d:"M24 31a7 7 0 1 1 7-7a7.008 7.008 0 0 1-7 7zm0-12a5 5 0 1 0 5 5a5.005 5.005 0 0 0-5-5zm-8 9A12.013 12.013 0 0 1 4 16H2a14.016 14.016 0 0 0 14 14zM12 8H7.078A11.984 11.984 0 0 1 28 16h2A13.978 13.978 0 0 0 6 6.234V2H4v8h8z"},null,-1),ne=[ee,te];function oe(c,n){return t(),r("svg",Z,ne)}var re={name:"carbon-update-now",render:oe};const se={key:0,class:"pt-4 mt-4 flex justify-center items-center text-xs text-dark-400 border-t border-dashed"},ie={class:"ml-2"},ce=f(" Last updated by "),ae=f(),de={__name:"IomSurveyMetadata",props:["survey"],setup(c){const n=Y("since");return(M,L)=>{const C=re;return c.survey&&c.survey.uby&&c.survey.uon?(t(),r("div",se,[h(C,{class:"flex-none w-4.5 h-4.5 text-primary-400"}),e("p",ie,[ce,e("b",null,_(c.survey.uby),1),ae,e("i",null,_(i(n).format(new Date(c.survey.uon))),1)])])):v("",!0)}}},le={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},_e=e("path",{fill:"currentColor",d:"M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6H10z"},null,-1),he=[_e];function ue(c,n){return t(),r("svg",le,he)}var me={name:"carbon-arrow-up-right",render:ue};const pe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},ve=e("path",{fill:"currentColor",d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},null,-1),ye=[ve];function fe(c,n){return t(),r("svg",pe,ye)}var xe={name:"fa-solid-chevron-down",render:fe};const ge={class:"iom-impl-par pb-4 overflow-hidden"},be=["data-index"],we={class:"shadow relative block border transition-all bg-primary-50 <md:border-primary-200 md:bg-light-200 rounded-lg overflow-hidden"},ke={class:"!leading-5 w-full px-2 py-3 border-b bg-gradient-to-r from-primary-400/40 via-primary-300/30 to-primary-400/40 text-primary-900 text-center cursor-default"},$e=["onClick"],Se={class:"loc-mark inline-block underline underline-primary-300"},Ce={class:"md:flex"},ze={class:"px-2 transition-all relative flex items-center md:w-1/3 !md:h-inherit <md:overflow-hidden <md:border-b"},Me={class:"space-y-3 mt-3 pb-2 mx-auto transform -translate-x-1"},Le=["onClick"],Be={class:"br-selbox__stacked--item--inputs cursor-pointer flex items-center"},Ve={class:"pl-2 truncate group-hover:text-dark-500"},He={class:"w-full divide-y-1 border-l bg-white border-dark-200 h-full children:h-full children:relative children:transition-all children:flex-col children:px-3 children:py-5 children:items-start children:w-full children:text-black"},Ae=["onClick"],Re={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-success-100 border border-success-200 text-success-600 rounded-full"},Ye=e("div",{class:"group-hover:text-success-700"},"Completed",-1),De=[Ye],Ne={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},je=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),qe=[je],Fe={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-primary-100 border border-primary-200 text-primary-600 rounded-full"},Oe={class:"group-hover:text-primary-700"},Te={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},We=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),Pe=[We],Ee={class:"flex"},Ie={class:"underline-primary-600/30 underline underline-2px mr-2"},Xe={class:"flex text-dark-500 !text-xs mt-1 transition-colors"},Ge={key:4,class:"mt-8"},Je={class:"space-y-3 children:rounded children:flex children:items-center children:text-xs children:py-2 children:px-3 children:bg-dark-100 children:shadow children:transition-all children:duration-200"},Ke=["onClick"],Qe=f("Survey from "),Ue={class:"ml-1 font-medium"},Ze=["onClick"],et=f(),tt=e("span",{class:"ml-2"},"Add new questionnaire",-1),st={__name:"Overview",setup(c){const n=D(),{width:M}=N(),L=j(),C={},H=d=>{if(M.value>=768)return;const a=document.querySelector(`.iom-impl-par .iom-part:nth-child(${d+1}) aside`),u=a.offsetHeight,l=.1;if(!u||u==1)return V.to(a,{duration:l,height:C[d]});V.to(a,{duration:l,height:0})},A=d=>{const a={year:"numeric",month:"long",day:"numeric"};return d=new Date(d),d.toLocaleDateString(void 0,a)},z=({id:d},{key:a},u={})=>{const{empty:l}=u,m=d,x=n.selectedSurveyLocation[m],g={loc:x};if(n.isObserver&&!n.getSurveyStatus(m,a)){n.observerNotif403.open=!0;return}if(!l){const b=n.surveys.find(y=>y.survey==a&&y.ip==m&&y.location==x);b&&(g.id=b.id)}L.push({name:`${a}-survey`,params:{ip:m},query:g})};return(d,a)=>{const u=xe,l=q("br-transition"),m=O,x=me,g=de,b=U,y=T,R=X;return t(),r("section",ge,[h(l,{type:"group",name:"dissolve",duration:.6,tag:"ul"},{default:w(()=>[(t(!0),r(k,null,$(i(n).ips,(s,B)=>(t(),r("li",{key:s.name,class:"iom-part w-full py-1 lg:py-3 px-4 mt-4","data-index":B},[e("section",we,[e("h4",ke,[f(_(s.name)+" facility in ",1),h(l,{name:"verticalBlur"},{default:w(()=>[i(n).selectedSurveyLocation[s.id]?(t(),r("span",{key:i(n).selectedSurveyLocation[s.id],class:"text-primary-600 group <md:text-primary-600 <md:cursor-pointer <md:active:text-primary-700 <md:hover:text-primary-500",onClick:o=>H(B)},[e("span",Se,_(i(n).selectedSurveyLocation[s.id]),1),h(u,{class:"relative transform transition-transform inline-block h-3.5 md:hidden <md:bottom-0.2 <md:-left-0.5 <md:group-active:scale-90"})],8,$e)):v("",!0)]),_:2},1024)]),e("div",Ce,[e("aside",ze,[e("ul",Me,[(t(!0),r(k,null,$(s.locations,o=>(t(),r("li",{key:o,class:"flex justify-start items-center text-dark-700 font-medium group",onClick:p=>i(n).selectedSurveyLocation[s.id]=o},[e("div",Be,[h(m,{name:o,id:o,checked:i(n).selectedSurveyLocation[s.id]==o,class:"flex-shrink-0 !bg-white"},null,8,["name","id","checked"]),e("div",Ve,_(o),1)])],8,Le))),128))])]),e("section",He,[(t(!0),r(k,null,$(i(n).surveyTypes,o=>(t(),r("div",{key:o.key,class:F(o.key!=="benef"?"cursor-pointer transition-colors duration-300 hover:bg-primary-50/70 group":""),onClick:p=>o.key=="benef"?()=>{}:z(s,o)},[o.key!=="benef"?(t(),S(x,{key:0,class:"text-dark-500/60 absolute m-3 top-0 right-0"})):v("",!0),o.key!=="benef"?(t(),S(l,{key:1,name:"horizontalBlur"},{default:w(()=>[i(n).getSurveyStatus(s.id,o.key)=="ok"?(t(),r("div",Re,De)):(t(),r("div",Ne,qe))]),_:2},1024)):(t(),S(l,{key:2,name:"horizontalBlur"},{default:w(()=>[i(n).getBenefSurveys(s.id).length>=1?(t(),r("div",Fe,[e("div",Oe,"Completed "+_(i(n).getBenefSurveys(s.id).length)+" of 3",1)])):(t(),r("div",Te,Pe))]),_:2},1024)),e("div",Ee,[e("span",Ie,_(o.title),1)]),e("span",Xe,_(o.desc),1),o.key!=="benef"?(t(),S(g,{key:3,survey:i(n).getSurvey(s.id,o.key)},null,8,["survey"])):v("",!0),o.key=="benef"?(t(),r("section",Ge,[e("div",null,[e("ul",Je,[(t(!0),r(k,null,$(i(n).getBenefSurveys(s.id),p=>(t(),r("li",{key:p.id,class:"hover:bg-light-200 hover:cursor-pointer active:shadow-sm relative",onClick:nt=>z(s,o)},[h(b,{class:"w-4 h-4 mr-3"}),Qe,e("span",Ue,_(A(p.date||p.inter_date)),1),h(y,{class:"absolute right-2 text-slate-400"})],8,Ke))),128)),i(n).isObserver?v("",!0):(t(),r("li",{key:0,onClick:p=>z(s,o,{empty:!0}),class:"!bg-white border border-dashed !shadow-none font-medium border-dark-300 justify-center hover:cursor-pointer hover:border-solid hover:border-primary-200 hover:text-primary-600 !hover:bg-primary-50"},[h(R),et,tt],8,Ze))])])])):v("",!0)],10,Ae))),128))])])])],8,be))),128))]),_:1})])}}};export{st as default};
