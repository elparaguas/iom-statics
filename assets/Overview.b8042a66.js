import{o as t,c as r,a as e,W as Y,f as h,t as _,z as i,i as v,h as y,p as D,X as N,u as j,s as q,e as F,w as k,F as $,v as S,B as O,x as C,g as H,Y as T}from"./index.86a6aa45.js";import{_ as W}from"./chevron-right.7b431b9c.js";const E={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},P=e("g",{fill:"currentColor"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),I=[P];function X(d,o){return t(),r("svg",E,I)}var G={name:"bi-plus-circle",render:X};const J={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 26 26"},K=e("path",{fill:"currentColor",d:"M8.813 0A1 1 0 0 0 8 1v1H4.406C3.606 2 3 2.606 3 3.406V24.5c0 .9.606 1.5 1.406 1.5H21.5c.8 0 1.406-.606 1.406-1.406V3.406c.1-.8-.512-1.406-1.312-1.406H18V1a1 1 0 0 0-1-1H9a1 1 0 0 0-.094 0a1 1 0 0 0-.094 0zM10 2h6v2h-6V2zM5 4h3v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h3v20H5V4zm2 5v4h4V9H7zm1 1h2v2H8v-2zm5 0v2h6v-2h-6zm-6 5v4h4v-4H7zm6 1v2h6v-2h-6z"},null,-1),Q=[K];function U(d,o){return t(),r("svg",J,Q)}var Z={name:"wpf-survey",render:U};const ee={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},te=e("path",{fill:"currentColor",d:"m27 25.586l-2-2V21h-2v3.414L25.586 27L27 25.586z"},null,-1),oe=e("path",{fill:"currentColor",d:"M24 31a7 7 0 1 1 7-7a7.008 7.008 0 0 1-7 7zm0-12a5 5 0 1 0 5 5a5.005 5.005 0 0 0-5-5zm-8 9A12.013 12.013 0 0 1 4 16H2a14.016 14.016 0 0 0 14 14zM12 8H7.078A11.984 11.984 0 0 1 28 16h2A13.978 13.978 0 0 0 6 6.234V2H4v8h8z"},null,-1),ne=[te,oe];function re(d,o){return t(),r("svg",ee,ne)}var se={name:"carbon-update-now",render:re};const ie={key:0,class:"pt-4 mt-4 flex justify-center items-center text-xs text-dark-400 border-t border-dashed"},ce={class:"ml-2"},ae=y(" Last updated by "),de=y(),le={__name:"IomSurveyMetadata",props:["survey"],setup(d){const o=Y("since");return(M,L)=>{const x=se;return d.survey&&d.survey.uby&&d.survey.uon?(t(),r("div",ie,[h(x,{class:"flex-none w-4.5 h-4.5 text-primary-400"}),e("p",ce,[ae,e("b",null,_(d.survey.uby),1),de,e("i",null,_(i(o).format(new Date(d.survey.uon))),1)])])):v("",!0)}}},_e={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},he=e("path",{fill:"currentColor",d:"M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6H10z"},null,-1),ue=[he];function me(d,o){return t(),r("svg",_e,ue)}var pe={name:"carbon-arrow-up-right",render:me};const ve={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},fe=e("path",{fill:"currentColor",d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},null,-1),ye=[fe];function xe(d,o){return t(),r("svg",ve,ye)}var ge={name:"fa-solid-chevron-down",render:xe};const be={class:"iom-impl-par pb-4 overflow-hidden"},we=["data-index"],ke={class:"shadow relative block border transition-all bg-primary-50 <md:border-primary-200 md:bg-light-200 rounded-lg overflow-hidden"},$e={class:"!leading-5 w-full px-2 py-3 border-b bg-gradient-to-r from-primary-400/40 via-primary-300/30 to-primary-400/40 text-primary-900 text-center cursor-default"},Se=["onClick"],Ce={class:"loc-mark inline-block underline underline-primary-300"},ze={class:"md:flex"},Me={class:"px-2 transition-all relative flex items-center md:w-1/3 !md:h-inherit <md:overflow-hidden <md:border-b"},Le={class:"space-y-3 mt-3 pb-2 mx-auto transform -translate-x-1"},Be=["onClick"],He={class:"br-selbox__stacked--item--inputs cursor-pointer flex items-center"},Ve={class:"pl-2 truncate group-hover:text-dark-500"},Ae={class:"w-full divide-y-1 border-l bg-white border-dark-200 h-full children:h-full children:relative children:transition-all children:flex-col children:px-3 children:py-5 children:items-start children:w-full children:text-black"},Re=["onClick"],Ye={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-success-100 border border-success-200 text-success-600 rounded-full"},De=e("div",{class:"group-hover:text-success-700"},"Completed",-1),Ne=[De],je={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},qe=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),Fe=[qe],Oe={key:0,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-primary-100 border border-primary-200 text-primary-600 rounded-full"},Te={class:"group-hover:text-primary-700"},We={key:1,class:"px-3 -ml-px mb-2 mr-6 w-content h-content text-2xs bg-warning-100 border border-warning-200 text-warning-600 rounded-full"},Ee=e("div",{class:"group-hover:text-warning-700"},"Pending",-1),Pe=[Ee],Ie={class:"flex"},Xe={class:"underline-primary-600/30 underline underline-2px mr-2"},Ge={class:"flex text-dark-500 !text-xs mt-1 transition-colors"},Je={key:4,class:"mt-8"},Ke={class:"space-y-3 children:rounded children:flex children:items-center children:text-xs children:py-2 children:px-3 children:bg-dark-100 children:shadow children:transition-all children:duration-200"},Qe=["onClick"],Ue=y("Survey from "),Ze={class:"ml-1 font-medium"},et=["onClick"],tt=y(),ot=e("span",{class:"ml-2"},"Add new questionnaire",-1),it={__name:"Overview",setup(d){const o=D(),{width:M}=N(),L=j(),x={};q(()=>{document.querySelectorAll(".iom-impl-par aside").forEach((c,a)=>{x[a]=c.offsetHeight,c.style.height=0})});const V=c=>{if(M.value>=768)return;const a=document.querySelector(`.iom-impl-par .iom-part:nth-child(${c+1}) aside`),u=a.offsetHeight,l=.1;if(!u||u==1)return H.to(a,{duration:l,height:x[c]});H.to(a,{duration:l,height:0})},A=c=>{const a={year:"numeric",month:"long",day:"numeric"};return c=new Date(c),c.toLocaleDateString(void 0,a)},z=({id:c},{key:a},u={})=>{const{empty:l}=u,m=c,g=o.selectedSurveyLocation[m],b={loc:g};if(o.isObserver&&!o.getSurveyStatus(m,a)){o.observerNotif403.open=!0;return}if(!l){const w=o.surveys.find(f=>f.survey==a&&f.ip==m&&f.location==g);w&&(b.id=w.id)}L.push({name:`${a}-survey`,params:{ip:m},query:b})};return(c,a)=>{const u=ge,l=F("br-transition"),m=T,g=pe,b=le,w=Z,f=W,R=G;return t(),r("section",be,[h(l,{type:"group",name:"dissolve",duration:.6,tag:"ul"},{default:k(()=>[(t(!0),r($,null,S(i(o).ips,(s,B)=>(t(),r("li",{key:s.name,class:"iom-part w-full py-1 lg:py-3 px-4 mt-4","data-index":B},[e("section",ke,[e("h4",$e,[y(_(s.name)+" facility in ",1),h(l,{name:"verticalBlur"},{default:k(()=>[i(o).selectedSurveyLocation[s.id]?(t(),r("span",{key:i(o).selectedSurveyLocation[s.id],class:"text-primary-600 group <md:text-primary-600 <md:cursor-pointer <md:active:text-primary-700 <md:hover:text-primary-500",onClick:n=>V(B)},[e("span",Ce,_(i(o).selectedSurveyLocation[s.id]),1),h(u,{class:"relative transform transition-transform inline-block h-3.5 md:hidden <md:bottom-0.2 <md:-left-0.5 <md:group-active:scale-90"})],8,Se)):v("",!0)]),_:2},1024)]),e("div",ze,[e("aside",Me,[e("ul",Le,[(t(!0),r($,null,S(s.locations,n=>(t(),r("li",{key:n,class:"flex justify-start items-center text-dark-700 font-medium group",onClick:p=>i(o).selectedSurveyLocation[s.id]=n},[e("div",He,[h(m,{name:n,id:n,checked:i(o).selectedSurveyLocation[s.id]==n,class:"flex-shrink-0 !bg-white"},null,8,["name","id","checked"]),e("div",Ve,_(n),1)])],8,Be))),128))])]),e("section",Ae,[(t(!0),r($,null,S(i(o).surveyTypes,n=>(t(),r("div",{key:n.key,class:O(n.key!=="benef"?"cursor-pointer transition-colors duration-300 hover:bg-primary-50/70 group":""),onClick:p=>n.key=="benef"?()=>{}:z(s,n)},[n.key!=="benef"?(t(),C(g,{key:0,class:"text-dark-500/60 absolute m-3 top-0 right-0"})):v("",!0),n.key!=="benef"?(t(),C(l,{key:1,name:"horizontalBlur"},{default:k(()=>[i(o).getSurveyStatus(s.id,n.key)=="ok"?(t(),r("div",Ye,Ne)):(t(),r("div",je,Fe))]),_:2},1024)):(t(),C(l,{key:2,name:"horizontalBlur"},{default:k(()=>[i(o).getBenefSurveys(s.id).length>=1?(t(),r("div",Oe,[e("div",Te,"Completed "+_(i(o).getBenefSurveys(s.id).length)+" of 3",1)])):(t(),r("div",We,Pe))]),_:2},1024)),e("div",Ie,[e("span",Xe,_(n.title),1)]),e("span",Ge,_(n.desc),1),n.key!=="benef"?(t(),C(b,{key:3,survey:i(o).getSurvey(s.id,n.key)},null,8,["survey"])):v("",!0),n.key=="benef"?(t(),r("section",Je,[e("div",null,[e("ul",Ke,[(t(!0),r($,null,S(i(o).getBenefSurveys(s.id),p=>(t(),r("li",{key:p.id,class:"hover:bg-light-200 hover:cursor-pointer active:shadow-sm relative",onClick:nt=>z(s,n)},[h(w,{class:"w-4 h-4 mr-3"}),Ue,e("span",Ze,_(A(p.date||p.inter_date)),1),h(f,{class:"absolute right-2 text-slate-400"})],8,Qe))),128)),i(o).isObserver?v("",!0):(t(),r("li",{key:0,onClick:p=>z(s,n,{empty:!0}),class:"!bg-white border border-dashed !shadow-none font-medium border-dark-300 justify-center hover:cursor-pointer hover:border-solid hover:border-primary-200 hover:text-primary-600 !hover:bg-primary-50"},[h(R),tt,ot],8,et))])])])):v("",!0)],10,Re))),128))])])])],8,we))),128))]),_:1})])}}};export{it as default};
